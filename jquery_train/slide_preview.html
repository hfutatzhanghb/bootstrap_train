<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <title>预览大图</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="http://cdn.bootcss.com/Buttons/2.0.0/css/buttons.min.css" rel="stylesheet">
    <link href="http://cdn.bootcss.com/animate.css/3.4.0/animate.min.css" rel="stylesheet">
    <style>
        body{
            background:#666666;
            color:#fff;
            font-family:'Open Sans';
            font-size:14px;
        }
        .main{

        }
        .arrow-left,.arrow-right{
            width:90px;
            height:110px;
            margin:-55px 0 0;
            opacity: 0.5;
            position:absolute;
            top:50%;
            background: none;
            border:none;
            outline: none;
            cursor: pointer;
        }
        .arrow-left{
            left:0;
        }

        .arrow-right{
            right:0;
        }
        .arrow-left:hover,.arrow-right:hover{
            opacity: 1;
        }
        .arrow-left:after{
            content: " ";
            display: block;
            width:0px;
            height:0px;
            border-bottom:15px solid transparent;  /* left arrow slant */
            border-top:15px solid transparent; /* right arrow slant */
            border-right:17px solid #fff; /* bottom, add background color here */
            font-size:0px;
            line-height:0px;
            margin-left: 35px;
            margin-top:35px;
            position:absolute;
            left:0;
            top:0;
            box-sizing:border-box;
        }

        .arrow-right:after{
            content: " ";
            display: block;
            width:0px;
            height:0px;
            border-bottom:15px solid transparent;  /* left arrow slant */
            border-top:15px solid transparent; /* right arrow slant */
            border-left:17px solid #fff; /* bottom, add background color here */
            font-size:0px;
            line-height:0px;
            margin-left: 35px;
            margin-top:35px;
            position:absolute;
            left:0;
            top:0;
            box-sizing:border-box;
        }
        .img-wrapper{
            text-align: center;
        }
        .thumbnail-img{
            max-width:100%;
            max-height:825px;
            margin:auto;
            position:absolute;
            top:0;
            bottom:0;
            left:0;
            right:0;
        }
        .btn{
            display: inline-block;
            padding: 8px 14px;
            font-size: 14px;
            color: #fff;
            border: 1px solid #FFF;
            border-radius: 2px;
            vertical-align: middle;
            position: relative;
            background:#fff;
            text-decoration: none;
            text-align: center;
        }
        .btn-primary, .btn-primary:focus {
            background-color: #428bca !important;
            border-color: #428bca;
        }
        .btn-primary:hover, .open .btn-primary.dropdown-toggle {
            background-color: #1b6aaa !important;
            border-color: #428bca;
        }
        .btn-yanred {
            background: rgb(220 ,60, 38) !important;
            border-color: rgb(220 ,60, 38);
        }
        .btn-yanred:hover {
            background: rgb(204, 54, 33) !important;
            border-color: rgb(177, 39, 20);
        }
        .btn:hover{
            background:#428bca;
            color:#fff;
            border-color: #428bca;
            text-decoration: none;
        }
        .btn-box{
            width:120px;
            position: absolute;
            right:80px;
            bottom:150px;
        }
        .btn-box .btn{
          display: block;
          width: 100%;
          margin-bottom:10px;
        }
        .img-prop-box,.author-prop-box{
            width:300px;
            height:auto;
            position:absolute;
            left:20px;
        }
        .img-prop-box{
            top:0;
        }
        .author-prop-box{
            top:60%;
        }

    </style>
</head>
<body>
<div class="main">
    <p class="img-wrapper">
        <img  class="thumbnail-img" id="previewImg" src="" alt="">
    </p>
    <button class="arrow-left" id="btnPre"></button>
    <button class="arrow-right" id="btnNext"></button>
    <div class="img-prop-box">
        <h3>图片属性</h3>
        <table>
            <tr>
                <td>作者名：</td>
                <td></td>
            </tr>
            <tr>
                <td>原图大小：</td>
                <td></td>
            </tr>
            <tr>
                <td>原图尺寸：</td>
                <td></td>
            </tr>
            <tr>
                <td>上传时间：</td>
                <td></td>
            </tr>
        </table>
    </div>
    <div class="author-prop-box">
        <h3>作者属性</h3>
        <table>
            <tr>
                <td>作者属性1:</td>
                <td>xxx张</td>
            </tr>
            <tr>
                <td>作者属性2:</td>
                <td>xxx张</td>
            </tr>
            <tr>
                <td>作者属性3:</td>
                <td>xxx张</td>
            </tr>
        </table>
    </div>
    <div class="btn-box">
        <a href="javascript:void(0);" class="btn btn-primary" id="btnSuccess">成功</a>
        <a href="javascript:void(0);" class="btn btn-primary" id="btnInfo">失败</a>
        <a href="javascript:void(0);" class="btn btn-yanred " id="btnWarning">警告</a>
        <a href="javascript:void(0);" class="btn btn-yanred " id="btnError">出错</a>
    </div>
</div>
</body>
</html>
<script src="http://cdn.bootcss.com/jquery/1.11.2/jquery.js"></script>
<script src="http://cdn.bootcss.com/jquery-noty/2.3.7/packaged/jquery.noty.packaged.min.js"></script>
<script>
    $(function(){
        var imgArr=["http://www.bz55.com/uploads/allimg/140724/138-140H4092938.jpg","http://www.juzi2.com/uploads/allimg/130619/1_130619193218_1.jpg","http://www.qqpk.cn/Article/UploadFiles/201407/20140711101445200.jpg","http://d.hiphotos.baidu.com/zhidao/pic/item/f11f3a292df5e0fe222567905e6034a85edf7266.jpg","http://www.33.la/uploads/20141114bztp/1764.jpg","http://pic19.nipic.com/20120301/9476109_135717565127_2.jpg"];
        var currImgIndex=0;
        var totalImg=imgArr.length;
        console.log(imgArr[currImgIndex]);
        $('#btnPre').on("click",function(){
            if(currImgIndex<=0){
                currImgIndex=0;
            }else{
                currImgIndex-=1;
            }
            refreshImgSrc(imgArr[currImgIndex]);
        });
        $('#btnNext').on("click",function(){
            if(currImgIndex>=(totalImg-1)){
                currImgIndex=totalImg-1;
            }else{
                currImgIndex+=1;
            }
            refreshImgSrc(imgArr[currImgIndex]);
        });
        refreshImgSrc(imgArr[currImgIndex]);



        //按钮事件
        $('#btnSuccess').on('click',function(){
        	  generate('success', notification_html[3]);
        });
        $('#btnInfo').on('click',function(){
        	  generate('information', notification_html[2]);
        });
        $('#btnWarning').on('click',function(){
        	  generate('warning', notification_html[0]);
        });
        $('#btnError').on('click',function(){
        	   generate('error', notification_html[1]);
        });
    });

    function refreshImgSrc(src){
        console.log("currSrc:"+src);
        $('#previewImg').attr('src',src);
    }


    /**
     * 产生弹出消息
     * @param type
     * @param text
     */
    function generate(type, text) {

        // var n = noty({
        //     text        : text,
        //     type        : type,
        //     dismissQueue: true,
        //     killer      : true,
        //     timeout     :1000,
        //     layout      : 'topRight',
        //     closeWith   : ['click'],
        //     theme       : 'relax',
        //     maxVisible  : 10,
        //     animation   : {
        //         open  : 'animated bounceInRight',
        //         close : 'animated bounceOutRight',
        //         easing: 'swing',
        //         speed : 500
        //     }
        // });
        // console.log('html: ' + n.options.id);

         //自动关闭，注意：要使自动关闭起效果，不能设置buttons属性
		var n = noty({
		            text        : text,
		            type        : type,
		            dismissQueue: true,
		            killer      : true,
		            timeout     : 2000,
		            layout      : 'topRight',
		            // closeWith   : ['click'],
		            theme       : 'relax',
		            maxVisible  : 10,
		            animation   : {
		                open  : 'animated bounceInRight',
		                close : 'animated bounceOutRight',
		                easing: 'swing',
		                speed : 500
		            }
		        });
         console.log('html: ' + n.options.id);
    }

    var notification_html = [];
    notification_html[0] = '<div class="activity-item"><div class="activity"> There are <a href="#">6 new tasks</a> waiting for you. Don\'t forget! <span>About 3 hours ago</span> </div> </div>',
    notification_html[1] = '<div class="activity-item"><div class="activity"> Mail server was updated. See <a href="#">changelog</a> <span>About 2 hours ago</span> </div> </div>',
    notification_html[2] = '<div class="activity-item"><div class="activity"> Your <a href="#">latest post</a> was liked by <a href="#">Audrey Mall</a> <span>35 minutes ago</span> </div> </div>',
    notification_html[3] = '<div class="activity-item"><div class="activity"> <a href="#">Eugene</a> ordered 2 copies of <a href="#">OEM license</a> <span>14 minutes ago</span> </div> </div>';

    function generateAll() {
        generate('warning', notification_html[0]);
        generate('error', notification_html[1]);
        generate('information', notification_html[2]);
        generate('success', notification_html[3]);
    }

    $(function(){
        setTimeout(function() {
            generateAll();
        }, 500);
    });

</script>
