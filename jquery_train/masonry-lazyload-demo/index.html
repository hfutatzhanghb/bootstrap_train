<!doctype html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>插件masonry.js与lazyload.js结合实现的瀑布流示例_bootschool.net</title>
    <meta name="keywords" content="瀑布流布局,waterfall,masonry,lazyload,延迟加载" />
    <meta name="description" content="Masonry.js实现的瀑布流布局页面示例。" />
<style type="text/css">
body {
	margin: 0;
	padding: 20px;
	background-color: #C373E2;
}

ul {
	list-style-type: none;
	padding: 0;
	margin: 0;
}
.waterfall-wapper{
	width:1024px;
	margin:0 auto;
}
.item {
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
	font-size: 40px;
	text-align: center;
	line-height: 60px;
	margin-bottom: 20px;
	color: #FFF;
	float: left;
	background-color: #9432BA;
	border: 2px solid #D29BE7;
	border-radius: 5px;
	overflow: hidden;
}

.item    { width: 100px; }
.item.w2 { width: 200px; }
.item.w3 { width: 300px; }
.item.w4 { width: 400px; }

.item    { min-height:  60px; }
.item.h2 { min-height: 120px; }
.item.h3 { min-height: 180px; }
.item.h4 { min-height: 240px; }

img {
	max-width: 100%;
	padding: 10px;
	-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;
}

@media screen and (max-width:1024px){
	.item{width: 100%!important;}
}

</style>
</head>
<body>

<ul class="waterfall-wapper">
	<li class="item"      >01<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item w2 h2">02<br/><img src="img/loading.gif" data-original="img/2.jpg" /></li>
	<li class="item h3"   >03<br/><img src="img/loading.gif" data-original="img/3.jpg" /></li>
	<li class="item h2"   >04<br/><img src="img/loading.gif" data-original="img/4.jpg" /></li>
	<li class="item w3 h4">05<br/><img src="img/loading.gif" data-original="img/5.jpg" /></li>
	<li class="item h4"   >06<br/><img src="img/loading.gif" data-original="img/6.jpg" /></li>
	<li class="item"      >07<br/><img src="img/loading.gif" data-original="img/7.jpg" /></li>
	<li class="item h2"   >08<br/><img src="img/loading.gif" data-original="img/8.jpg" /></li>
	<li class="item w2 h3">09<br/><img src="img/loading.gif" data-original="img/9.jpg" /></li>
	<li class="item h4"   >10<br/><img src="img/loading.gif" data-original="img/10.jpg" /></li>
	<li class="item h2"   >11<br/><img src="img/loading.gif" data-original="img/11.jpg" /></li>
	<li class="item h4"   >12<br/><img src="img/loading.gif" data-original="img/12.jpg" /></li>
	<li class="item w2"   >13<br/><img src="img/loading.gif" data-original="img/13.jpg" /></li>
	<li class="item"      >14<br/><img src="img/loading.gif" data-original="img/14.jpg" /></li>
	<li class="item h2"   >15<br/><img src="img/loading.gif" data-original="img/15.jpg" /></li>
	<li class="item"      >16<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h3"   >17<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item"      >18<br/><img src="img/loading.gif" data-original="img/bootschool-logo.png" /></li>
	<li class="item w2 h2">19<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h3"   >20<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h2"   >21<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item w3 h4">22<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h4"   >23<br/><img src="img/loading.gif" data-original="img/bootschool-logo.png" /></li>
	<li class="item"      >24<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h2"   >25<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item w2 h3">26<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h4"   >27<br/><img src="img/loading.gif" data-original="img/bootschool-logo.png" /></li>
	<li class="item h2"   >28<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h4"   >29<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item w2"   >30<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item"      >31<br/><img src="img/loading.gif" data-original="img/bootschool-logo.png" /></li>
	<li class="item h2"   >32<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item"      >33<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h3"   >34<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item"      >35<br/><img src="img/loading.gif" data-original="img/bootschool-logo.png" /></li>
	<li class="item w2 h2">36<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h3"   >37<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h2"   >38<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item w3 h4">39<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h4"   >40<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item"      >41<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h2"   >42<br/><img src="img/loading.gif" data-original="img/bootschool-logo.png" /></li>
	<li class="item w2 h3">43<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h4"   >44<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h2"   >45<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h4"   >46<br/><img src="img/loading.gif" data-original="img/bootschool-logo.png" /></li>
	<li class="item w2"   >47<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item"      >48<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h2"   >49<br/><img src="img/loading.gif" data-original="img/bootschool-logo.png" /></li>
	<li class="item"      >50<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item h3"   >51<br/><img src="img/loading.gif" data-original="img/1.jpg" /></li>
	<li class="item"      ><a href="http://www.bootschool.net" target="_blank" alt="bootschool.net">52<br/><img src="img/loading.gif" data-original="img/bootschool-logo.png" /></a></li>
</ul>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.lazyload.min.js"></script>
<script type="text/javascript" src="js/masonry.pkgd.min.js"></script>
<script>
$(function() {

	initWaterFall();

	$("img").lazyload({
		effect:"fadeIn",
		failurelimit:40,
		load:initWaterFall,
	});
});

function initWaterFall() {
	$('.waterfall-wapper').masonry({
		gutterWidth: 20,
		itemSelector: '.item',
		isAnimated: true,
	});
}

</script>
</body>
</html>
